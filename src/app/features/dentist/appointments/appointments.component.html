<div class="appointments-container">
    <h2 class="page-title">Moji termini</h2>
  
    <!-- Tabs -->
    <div class="tabs">
      <button [class.active]="selectedTab === 'upcoming'" (click)="selectedTab = 'upcoming'">Zakazani</button>
      <button [class.active]="selectedTab === 'past'" (click)="selectedTab = 'past'">ZavrÅ¡eni / Otkazani</button>
    </div>
  
    <!-- Upcoming Appointments -->
    <div *ngIf="selectedTab === 'upcoming'">
      <div *ngIf="upcomingAppointments.length > 0; else noUpcoming">
        <div class="appointment-card" *ngFor="let appointment of upcomingAppointments">
          <div class="card-header">
            <div class="patient-name">ðŸ‘¤ {{ appointment.patient.firstName }} {{ appointment.patient.lastName }}</div>
            <div class="appointment-status status-{{ appointment.status.toLowerCase() }}">{{ appointment.status }}</div>
          </div>
          <div class="card-details">
            <p><strong>Usluga:</strong> {{ appointment.service.name }}</p>
            <p><strong>Datum:</strong> {{ appointment.appointmentDate }}</p>
            <p><strong>Vreme:</strong> {{ appointment.startTime }} - {{ appointment.endTime }}</p>
          </div>
          <div class="card-actions" *ngIf="appointment.status === 'SCHEDULED'">
            <button (click)="updateStatus(appointment.id, 'COMPLETED')" class="complete-btn">ZavrÅ¡i</button>
            <button (click)="updateStatus(appointment.id, 'CANCELLED')" class="cancel-btn">OtkaÅ¾i</button>
          </div>
        </div>
      </div>
      <ng-template #noUpcoming>
        <p class="empty-message">Nema zakazanih termina.</p>
      </ng-template>
    </div>
  
    <!-- Past Appointments -->
    <div *ngIf="selectedTab === 'past'">
      <div *ngIf="pastAppointments.length > 0; else noPast">
        <div class="appointment-card" *ngFor="let appointment of pastAppointments">
          <div class="card-header">
            <div class="patient-name">ðŸ‘¤ {{ appointment.patient.firstName }} {{ appointment.patient.lastName }}</div>
            <div class="appointment-status status-{{ appointment.status.toLowerCase() }}">{{ appointment.status }}</div>
          </div>
          <div class="card-details">
            <p><strong>Usluga:</strong> {{ appointment.service.name }}</p>
            <p><strong>Datum:</strong> {{ appointment.appointmentDate }}</p>
            <p><strong>Vreme:</strong> {{ appointment.startTime }} - {{ appointment.endTime }}</p>
          </div>
        </div>
      </div>
      <ng-template #noPast>
        <p class="empty-message">Nema zavrÅ¡enih ili otkazanih termina.</p>
      </ng-template>
    </div>
  </div>
  